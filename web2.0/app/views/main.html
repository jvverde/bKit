<div layout="column" layout-align="space-around center">

  <div layout="row" layout-align="space-between end">
    <img src="images/logo/512x512.png" height="200" width="200">
    <calendar></calendar>
  </div>

  <div layout="row" layout-align="start center" layout-fill>
    <md-autocomplete flex="30"
      md-selected-item="main.selectedComputer"
      md-search-text="main.computerSearch"
      md-item-text="pc.name"
      md-items="pc in main.querySearch(main.computerSearch)"
      placeholder="Choose a computer">

      <md-item-template>
        <span md-highlight-text="main.computerSearch" md-highlight-flags="^i">{{pc.name}}</span>
      </md-item-template>
      <md-not-found>
        No states matching "{{main.computerSearch}}" were found.
        <a ng-click="main.newState(main.computerSearch)">Create a new one!</a>
      </md-not-found>
    </md-autocomplete>
    <md-autocomplete flex="30"
      ng-disabled="!main.selectedComputer"
      md-selected-item="main.selectedDrive"
      md-search-text="main.driveSearch"
      md-item-text="drive.id"
      md-items="drive in main.selectedComputer.drives"
      placeholder="Choose a drive">
      <md-item-template>
        <span md-highlight-text="main.driveSearch" md-highlight-flags="^i">{{drive.id}}</span>
      </md-item-template>
      <md-not-found>
        No states matching "{{main.driveSearch}}" were found.
        <a ng-click="main.newState(main.driveSearch)">Create a new one!</a>
      </md-not-found>
    </md-autocomplete>
    <md-autocomplete flex="30"
      ng-disabled="!main.selectedDrive"
      md-selected-item="main.selectedBackup"
      md-search-text="main.backupSearch"
      md-item-text="bak"
      md-items="bak in main.selectedDrive.backups"
      md-selected-item-change="main.openExplorer(main.selectedComputer.id, main.selectedDrive.id, main.selectedBackup)"
      placeholder="Choose a Backup">
      <md-item-template>
        <span md-highlight-text="main.driveSearch" md-highlight-flags="^i">{{bak}}</span>
      </md-item-template>
      <md-not-found>
        No states matching "{{main.driveSearch}}" were found.
        <a ng-click="main.newState(main.driveSearch)">Create a new one!</a>
      </md-not-found>
    </md-autocomplete>
  </div>

  <div class="explorer" layout="row" layout-align="start start" layout-fill ng-if="main.explorer">
    <div class="sidebar" layout="column" layout-align="start start" flex="30">
      <header>{{main.selectedComputer.id}}</header>
      <div class="folder selectable-row" ng-repeat="folder in main.explorer.folders" layout="row" layout-align="space-between center" layout-fill>
        <span>{{folder}}</span>
        <span layout="row" layout-align="space-between">
          <md-icon>restore</md-icon>
        </span>
      </div>
    </div>
    <div class="main-panel" layout="column" layout-align="start start" flex="65">
      <header class="path">{{main.selectedDrive.id}}</header>
      <div class="file selectable-row" ng-repeat="file in main.explorer.files" layout="row" layout-align="space-between center" layout-fill>
        <span>{{file}}</span>
        <span layout="row" layout-align="space-between">
          <md-icon>file_download</md-icon>
          <md-icon>visibility</md-icon>
          <md-icon>restore</md-icon>
        </span>
      </div>
      </div>
    </div>
  </div>
</div>
