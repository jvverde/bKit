var data = {lines:[
{"lineNum":"    1","line":"#!/usr/bin/env bash"},
{"lineNum":"    2","line":"#Get or set (permanently or not) the server"},
{"lineNum":"    3","line":"#And also export BKIT_CONFIG when sourced"},
{"lineNum":"    4","line":""},
{"lineNum":"    5","line":"server_doit(){"},
{"lineNum":"    6","line":"  issourced(){"},
{"lineNum":"    7","line":"    [[ \"${BASH_SOURCE[0]}\" != \"${0}\" ]]","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"    8","line":"  }"},
{"lineNum":"    9","line":""},
{"lineNum":"   10","line":"  declare -r sdir=\"$(dirname -- \"$(readlink -ne -- \"${BASH_SOURCE[0]:-$0}\")\")\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   11","line":""},
{"lineNum":"   12","line":"  source \"$sdir/lib/functions/all.sh\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   13","line":""},
{"lineNum":"   14","line":"  [[ ${ETCDIR+isset} == isset ]] || die \"ETCDIR is not defined\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   15","line":""},
{"lineNum":"   16","line":"  declare -r CONFDIR=\"$ETCDIR/server\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   17","line":""},
{"lineNum":"   18","line":"  function usage(){"},
{"lineNum":"   19","line":"      local name=$(basename -s .sh \"$0\")","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   20","line":"      echo \"Set/Get default server\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   21","line":"      echo -e \"usage:\\n\\t $name [-s] [address [port]]\\n\\t\\t-s set server as permanent\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   22","line":"      exit 1","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   23","line":"  }"},
{"lineNum":"   24","line":""},
{"lineNum":"   25","line":"  [[ $1 =~ ^--?h ]] && usage","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   26","line":"  [[ $1 =~ ^--?s ]] && shift && declare -r save=1 #we want to save it permanently","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   27","line":""},
{"lineNum":"   28","line":"  declare -r default=\"$CONFDIR/default\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   29","line":"  declare current=\"$default\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   30","line":"  declare config=\"$current/conf.init\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   31","line":""},
{"lineNum":"   32","line":"  [[ ${1+isset} == isset || ! -d $current || ! -e $config ]] && {","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   33","line":"  \tdeclare -r server=\"${1:-localhost}\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   34","line":"  \tdeclare -r port=\"${2:-8760}\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   35","line":""},
{"lineNum":"   36","line":"  \texists nc && { nc -z $server $port 2>&1 || die bKit server not found at $server:$port;}","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   37","line":""},
{"lineNum":"   38","line":"  \tcurrent=\"$CONFDIR/$server\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   39","line":"    config=\"$current/conf.init\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   40","line":""},
{"lineNum":"   41","line":"  \t[[ -e $config ]] || bash \"$sdir/init.sh\" \"$server\" || die \"Can\'t set conf.init to server $server\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   42","line":""},
{"lineNum":"   43","line":"    #if permanently set the default"},
{"lineNum":"   44","line":"    [[ ${save+isset} == isset ]] && ln -srfT \"$current\" \"$default\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   45","line":"  }"},
{"lineNum":"   46","line":"  # export BKIT_CONFIG (if sourced)"},
{"lineNum":"   47","line":"  declare -xg BKIT_CONFIG=\"$config\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   48","line":""},
{"lineNum":"   49","line":"  issourced || basename -- \"$(readlink -e -- \"$current\")\" >&$OUT #The obly result to send to stdout","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   50","line":"}  >&2 #Send everything to stderr except what is explicit sent to OUT=stdout","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   51","line":""},
{"lineNum":"   52","line":"exec {OUT}>&1   #OUT=stdout","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   53","line":"server_doit \"$@\"","class":"lineNoCov","hits":"0","possible_hits":"0",},
{"lineNum":"   54","line":""},
]};
var percent_low = 25;var percent_high = 75;
var header = { "command" : "shellspec spec", "date" : "2020-07-07 12:21:07", "instrumented" : 27, "covered" : 0,};
var merged_data = [];
